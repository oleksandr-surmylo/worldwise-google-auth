"use strict";(self.webpackChunkworldwise=self.webpackChunkworldwise||[]).push([[480],{8480:(s,e,t)=>{t.r(e),t.d(e,{default:()=>W});var o=t(2791);const i="Sidebar_sidebar__2eihC",n="Sidebar_footer__cKhkc",r="Sidebar_copyright__jKrmd";var a=t(6044);const c="AppNav_nav__d7313";var l=t(7617),d=t(184);const p=()=>(0,d.jsx)("nav",{className:c,children:(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)(l.OL,{to:"cities",children:"Cities"})}),(0,d.jsx)("li",{children:(0,d.jsx)(l.OL,{to:"countries",children:"Countries"})})]})}),u=()=>(0,d.jsxs)("div",{className:i,children:[(0,d.jsx)(a.Z,{}),(0,d.jsx)(p,{}),(0,d.jsx)(l.j3,{}),(0,d.jsx)("footer",{className:n,children:(0,d.jsxs)("p",{className:r,children:["\xa9 Copyright ",(new Date).getFullYear()," by WorldWise Inc."]})})]}),h="AppLayout_app__A7Y67",x="Map_mapContainer__NmRUJ",g="Map_map__ZBBh1";var j=t(9961),_=t(7626),m=t(6042),f=t(9500),v=t(6293),N=t(1906);var w=t(7766),y=t(6815);function k(s){let{position:e}=s;(0,v.Sx)().setView(e)}function b(){const s=(0,l.s0)();(0,v.$_)({click:e=>{s("form?lat=".concat(e.latlng.lat,"&lng=").concat(e.latlng.lng))}})}const C=()=>{const{cities:s}=(0,N.tf)(),[e,t]=(0,o.useState)(["50","12"]),{isLoading:i,position:n,getPosition:r}=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const[e,t]=(0,o.useState)(!1),[i,n]=(0,o.useState)(s),[r,a]=(0,o.useState)(null);return{isLoading:e,position:i,error:r,getPosition:function(){if(!navigator.geolocation)return a("Your browser does not support geolocation");t(!0),navigator.geolocation.getCurrentPosition((s=>{n({lat:s.coords.latitude,lng:s.coords.longitude}),t(!1)}),(s=>{a(s.message),t(!1)}))}}}(),[a,c]=(0,y.J)();return(0,o.useEffect)((()=>{a&&c&&t([a,c])}),[a,c]),(0,o.useEffect)((()=>{n&&t([n.lat,n.lng])}),[n]),(0,d.jsxs)("div",{className:x,children:[!n&&(0,d.jsx)(w.Z,{onClick:r,type:"position",children:i?"Loading...":"Use your position"}),(0,d.jsxs)(j.h,{className:g,center:e,zoom:13,scrollWheelZoom:!0,children:[(0,d.jsx)(_.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.map((s=>(0,d.jsx)(m.J,{position:[s.position.lat,s.position.lng],children:(0,d.jsxs)(f.G,{children:[(0,d.jsx)("img",{src:s.emoji,style:{width:"20px"},alt:s.cityName}),(0,d.jsx)("span",{children:s.cityName})]})},s.id))),(0,d.jsx)(k,{position:e}),(0,d.jsx)(b,{})]})]})},S={user:"User_user__qArZh",text:"User_text__cSBQ9",textName:"User_textName__0r-FW",k:"User_k__bOzPg"};var U=t(7538),L=t(5344),Z=t(1859);const z=function(){const{user:s,logout:e}=(0,U.a)(),t=(0,l.s0)();var o;return s?(0,d.jsxs)("div",{className:S.user,children:[(0,d.jsx)("img",{src:null!==(o=s.photoURL)&&void 0!==o?o:"https://i.pravatar.cc/100?u=zz",alt:s&&"User"}),(0,d.jsxs)("div",{className:S.userBlock,children:[(0,d.jsx)("span",{className:S.text,children:"Welcome,"}),(0,d.jsx)("span",{className:S.textName,children:s.displayName})]}),(0,d.jsx)(w.Z,{onClick:async function(){try{await(0,L.w7)(Z.I8),e(),t("/",{replace:!0})}catch(s){s instanceof Error?console.error(s.message):console.log("Unknown Error")}},children:"Logout"})]}):null},W=()=>(0,d.jsxs)("div",{className:h,children:[(0,d.jsx)(u,{}),(0,d.jsx)(C,{}),(0,d.jsx)(z,{})]})}}]);
//# sourceMappingURL=480.5d1be46d.chunk.js.map